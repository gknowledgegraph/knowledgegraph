!function(e){e.fn.autocomplete=function(a){function s(e){for(var a=[e[0]],s=1;s<e.length;s++){for(var t=!1,l=0;l<a.length;l++)if(e[s].name==a[l].name){t=!0;break}t||a.push(e[s])}return a}function t(a){var s=a;return""==e(".searchdefault .last").text()&&(s+=1),s}var l=t(-1),n=[],c=[];a=e.extend({hints:[],placeholder:"Search",width:200,height:16,showButton:!0,buttonText:"Search",onSubmit:function(e){},onBlur:function(){}},a);var i=e(this),r=i.find(".search-inp"),h=i.find(".ind");return r.keyup(function(a){var s=!1;switch(""!=r.val()?(s=!0,n=e(".searchku .search-li")):n=e(".searchdefault .search-li"),a.which){case 38:n.removeClass("selected"),l-1==0&&""==e(".searchdefault .last").text()?l=n.length-1:l-1>=0?l--:l=n.length-1,s?e(".searchku .search-li:eq("+l+")").addClass("selected"):e(".searchdefault .search-li:eq("+l+")").addClass("selected");break;case 40:n.removeClass("selected"),l+1<n.length?l++:l+1==n.length&&(l=t(0)),s?e(".searchku .search-li:eq("+l+")").addClass("selected"):e(".searchdefault .search-li:eq("+l+")").addClass("selected");break;case 13:if(n.parent().find(".selected").length>0){var c;s?n.parent().find(".selected").click():(c=n.parent().find(".selected").text(),r.val(c),n.parent().find(".selected").find(".last").length>0?n.parent().find(".selected").first().find(".last").click():n.parent().find(".selected").first().find("a").trigger("click"),l=t(-1))}else s?e(".searchbtn").click():window.location.reload();break;case 27:l=t(-1),e(".search_list").hide(),h.empty(),r.val("")}}),r.bind("paste keyup focus",function(t){location.pathname;if(13!=t.which&&27!=t.which&&38!=t.which&&40!=t.which&&(n=[],l=-1,h.empty(),e(".search_list .search-li").removeClass("selected"),!e("#base_id").val()&&""!=r.val())){var i=r.val().replace(/\s/g,"").toLowerCase();i="^"+i+".*",h.empty();for(var d in a.hints)a.hints[d].key.match(i)&&n.push(a.hints[d]);c=s(n);for(var f=0;f<5;f++)if(c[f]){var o=e('<li class="tuwens search-li"></li>');o.html('<a href="'+c[f].url+'" class="clearfix" target="_blank"><span class="simg"><img src="'+c[f].logo+'" alt="" width="40" height="40"></span><span class="stext"><em>'+c[f].name+"</em><b><i>"+c[f].conCount+"收录&nbsp;&nbsp;| "+c[f].subCount+"关注</i></b></span></a>"),h.append(o),o.css("display","block")}}}),this}}(jQuery);