
<!DOCTYPE html>
<html>
<head>
    <meta name="baidu-site-verification" content="CyXbt8rKBI" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <title> 知识库 - 你身边的技术百科全书 - CSDN</title>
    <meta name="Keywords" content="CSDN知识库,CSDN,知识库,微信开发,机器学习,swift,Android,Python,Java,大数据,云计算,PHP,Ruby,C++,JavaScript">
    <meta name="Description" content="CSDN知识库，按照技术领域和知识结构对海量技术资源进行筛选整理，并通过相关机制进行审核收录。保证入库知识的系统性与优质性。并且所含技术知识图谱有清晰的学习脉络，是技术开发者完善自我知识体系、提升进阶的参照坐标">
    <link rel="stylesheet" href="http://c.csdnimg.cn/public/common/libs/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="http://c.csdnimg.cn/public/themes/default/css/common.css">
    <link rel="stylesheet" href="http://c.csdnimg.cn/public/common/toolbar/css2016/index.css">
    <link rel="stylesheet" href="/css/web/font-awesome.min.css">
    <link rel="stylesheet" href="/min/iconfont.min.css">
    <link rel="stylesheet" href="http://c.csdnimg.cn/public/themes/default/css/icon.css">
    <link href="/images/web/favicon.ico" rel="SHORTCUT ICON">

    <script src="/js/web/libs/jquery-1.11.1.min.js" type="text/javascript"></script>
    <script src="/js/web/libs/bootstrap.min.js" type="text/javascript"></script>
    <script src="/min/jQuery.md5.min.js" type="text/javascript"></script>
    <script src="/min/statist.min.js" type="text/javascript"></script>
    <link rel="stylesheet" href="/min/colors.min.css" id="colors">
    <script type='text/javascript'>window.NREUM||(NREUM={});NREUM.info = {"agent":"","beacon":"bam.nr-data.net","errorBeacon":"bam.nr-data.net","licenseKey":"7dc04976a0","applicationID":"15009246","applicationTime":78.117143,"transactionName":"Z10AZEZSD0VTUExYCV4XJ0hEQQRFQVlLHiF1bE0fHhkMTx1QUFAURBdYXlVeBA==","queueTime":0,"ttGuid":"2024dbcb32d22a","agentToken":null}; window.NREUM||(NREUM={}),__nr_require=function(e,t,n){function r(n){if(!t[n]){var o=t[n]={exports:{}};e[n][0].call(o.exports,function(t){var o=e[n][1][t];return r(o||t)},o,o.exports)}return t[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,n){function r(){}function o(e,t,n){return function(){return i(e,[f.now()].concat(u(arguments)),t?null:this,n),t?void 0:this}}var i=e("handle"),a=e(2),u=e(3),c=e("ee").get("tracer"),f=e("loader"),s=NREUM;"undefined"==typeof window.newrelic&&(newrelic=s);var p=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],d="api-",l=d+"ixn-";a(p,function(e,t){s[t]=o(d+t,!0,"api")}),s.addPageAction=o(d+"addPageAction",!0),s.setCurrentRouteName=o(d+"routeName",!0),t.exports=newrelic,s.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(e,t){var n={},r=this,o="function"==typeof t;return i(l+"tracer",[f.now(),e,n],r),function(){if(c.emit((o?"":"no-")+"fn-start",[f.now(),r,o],n),o)try{return t.apply(this,arguments)}catch(e){throw c.emit("fn-err",[arguments,this,e],n),e}finally{c.emit("fn-end",[f.now()],n)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(e,t){m[t]=o(l+t)}),newrelic.noticeError=function(e){"string"==typeof e&&(e=new Error(e)),i("err",[e,f.now()])}},{}],2:[function(e,t,n){function r(e,t){var n=[],r="",i=0;for(r in e)o.call(e,r)&&(n[i]=t(r,e[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],3:[function(e,t,n){function r(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,o=n-t||0,i=Array(o<0?0:o);++r<o;)i[r]=e[t+r];return i}t.exports=r},{}],4:[function(e,t,n){t.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(e,t,n){function r(){}function o(e){function t(e){return e&&e instanceof r?e:e?c(e,u,i):i()}function n(n,r,o,i){if(!d.aborted||i){e&&e(n,r,o);for(var a=t(o),u=m(n),c=u.length,f=0;f<c;f++)u[f].apply(a,r);var p=s[y[n]];return p&&p.push([b,n,r,a]),a}}function l(e,t){v[e]=m(e).concat(t)}function m(e){return v[e]||[]}function w(e){return p[e]=p[e]||o(n)}function g(e,t){f(e,function(e,n){t=t||"feature",y[n]=t,t in s||(s[t]=[])})}var v={},y={},b={on:l,emit:n,get:w,listeners:m,context:t,buffer:g,abort:a,aborted:!1};return b}function i(){return new r}function a(){(s.api||s.feature)&&(d.aborted=!0,s=d.backlog={})}var u="nr@context",c=e("gos"),f=e(2),s={},p={},d=t.exports=o();d.backlog=s},{}],gos:[function(e,t,n){function r(e,t,n){if(o.call(e,t))return e[t];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[t]=r,r}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],handle:[function(e,t,n){function r(e,t,n,r){o.buffer([e],r),o.emit(e,t,n)}var o=e("ee").get("handle");t.exports=r,r.ee=o},{}],id:[function(e,t,n){function r(e){var t=typeof e;return!e||"object"!==t&&"function"!==t?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i="nr@id",a=e("gos");t.exports=r},{}],loader:[function(e,t,n){function r(){if(!x++){var e=h.info=NREUM.info,t=d.getElementsByTagName("script")[0];if(setTimeout(s.abort,3e4),!(e&&e.licenseKey&&e.applicationID&&t))return s.abort();f(y,function(t,n){e[t]||(e[t]=n)}),c("mark",["onload",a()+h.offset],null,"api");var n=d.createElement("script");n.src="https://"+e.agent,t.parentNode.insertBefore(n,t)}}function o(){"complete"===d.readyState&&i()}function i(){c("mark",["domContent",a()+h.offset],null,"api")}function a(){return E.exists&&performance.now?Math.round(performance.now()):(u=Math.max((new Date).getTime(),u))-h.offset}var u=(new Date).getTime(),c=e("handle"),f=e(2),s=e("ee"),p=window,d=p.document,l="addEventListener",m="attachEvent",w=p.XMLHttpRequest,g=w&&w.prototype;NREUM.o={ST:setTimeout,SI:p.setImmediate,CT:clearTimeout,XHR:w,REQ:p.Request,EV:p.Event,PR:p.Promise,MO:p.MutationObserver};var v=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1071.min.js"},b=w&&g&&g[l]&&!/CriOS/.test(navigator.userAgent),h=t.exports={offset:u,now:a,origin:v,features:{},xhrWrappable:b};e(1),d[l]?(d[l]("DOMContentLoaded",i,!1),p[l]("load",r,!1)):(d[m]("onreadystatechange",o),p[m]("onload",r)),c("mark",["firstbyte",u],null,"api");var x=0,E=e(4)},{}]},{},["loader"]);</script>
</head>
</html>


<body>
<script id="toolbar-tpl-scriptId" ifcollection="collect_show" skin="" fixed="true" src="http://c.csdnimg.cn/public/common/toolbar/js/html2016.js" type="text/javascript"></script>
<link rel="stylesheet" href="/min/kn_follow_dynamic.min.css">
<link rel="stylesheet" href="/min/kn_other_map.min.css">
<script type="text/javascript" src="http://lib.csdn.net/min/clipboard.min.js"></script>
<div style="width:0;height:0;overflow: hidden;"><img src="http://lib.csdn.net/images/wap/group101.png"></div>
<style>
    #clip_button {
        font-weight: normal;
        font-size: 14px;
        cursor: pointer;
        width: 85px;
        height: 20px;
    }
    #clip_button:hover{
        color:#FF7F0E;
    }
    .clip-msg {
        display: none;
        position: relative;
        bottom: 20px;
        font: 12px"Helvetica Neue",Sans-Serif!important;
        padding: 2px 4px!important;
        border-radius: 2px!important;
        width: auto!important;
        box-shadow: none!important;
        background: #FFE7C3!important;
        color: #FF7F0E!important;
        border: 1px solid#FFBE98!important;
    }
    .bdshare-button-style0-32 a {
        float: none;
        width: auto;
        height: auto;
        line-height: 20px;
        background: none;
        cursor: pointer;
        color: #8295a3;
        text-indent: 0;
        margin: -1px 0 0 0;

    }
    .bd_weixin_popup {
        height: 260px !important;
    }
    .bd_weixin_popup_foot {
        display: none;
    }
    .stext p{
        cursor: default;
    }
    .kn_others .kn_top .sallbtns span.share a {
        color: #8295a3;
        line-height: inherit !important;
    }
    .kl_spreads .share a.weibo:hover{
        color: #f77565 !important;
    }
    .kl_spreads .share a.weixin:hover{
        color: #55c94a !important;
    }
    .kl_spreads .share a.qzone:hover{
        color: #ffc028 !important;
    }
    .kl_spreads{
        width:212px;
    }
</style>
<script type="text/javascript" src="/min/view-history.min.js"></script>
<script type="text/javascript" src="/js/web/libs/web-storage-cache.min.js"></script>
<script type="text/javascript" src="/js/web/libs/transliteration.min.js"></script>
<script type="text/javascript" src="/min/autocomplete.min.js"></script>
<script type="text/javascript" src="/min/replace.min.js"></script>
<style>
    .ernav .navs li .ahot:before{
        line-height: 10px;
    }
</style>
<div class="ernav mainindex">
    <div class="mainCol clearfix padding15px">
        <a href="http://lib.csdn.net/home" class="logo"></a>
        <ul class="navs clearfix">
            <li><a href="http://lib.csdn.net/home">首页</a></li>
            <li>
                <div class="my_knowledgewrap">
                    <a href="http://lib.csdn.net/my/feed" id="myknowledgebase" class="my_knowledge">我的知识库<i class="fa fa-angle-down"></i></a>
                    <ul class="submenu" style="display: none;">
                        <li><a href="http://lib.csdn.net/my/feed" id="mysubscription">关注动态</a></li>
                        <li><a href="http://lib.csdn.net/my/structure">我的图谱</a></li>
                        <li class="noborder"><a href="http://lib.csdn.net/my/handbook/doing">图鉴墙</a></li>
                    </ul>
                </div>
            </li>
            <li><a href="http://lib.csdn.net/bases">知识库列表</a></li>
            <li><a href="http://lib.csdn.net/assemble" class="ahot" >参与建库</a></li>
            <li><a href="http://lib.csdn.net/experts">特邀编辑</a></li>
        </ul>
        <div class="allicons">
            <div id="nav_search_top" class="nav_search">
                <div action="http://lib.csdn.net/search" method="post" class="search" id="search-form">
                    <input type="hidden" id="base_name" value="">
                    <input type="hidden" id="base_id" value="">
                    <label>
                        <input type="text" value="" name="keyword" class="gray search-inp" autocomplete="off" maxlength="50">
                    </label>

                    <div class="searchbtn" style="cursor: pointer">
                        <i class="fa fa-search"></i>
                    </div>
                    <div class="search_list whitebk">
                        <div class="searchdefault">
                            <a class="resultp search-li">

                            </a>
                            <p class="hotsearch">
                                热门搜索：
                            </p>
                            <ul class="listkeys hot-word"></ul>
                        </div>
                        <div class="searchku">

                            <a class="resultp totalr search-li" href="http://lib.csdn.net/search" target="_blank"></a>
                            <a class="hotsearchall search-li" href="http://lib.csdn.net/searchbase" target="_blank"></a>
                            <ul class="listkeys ind"></ul>
                            <p class="alltext"><a href="http://lib.csdn.net/bases" target="_blank">查看全部知识库>></a></p>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="structmarke"></div>

<script>
    $(document).ready(function(){
        var pathname = location.pathname;
        var baseId,v = $("#base_id").val(),locUrl;
        if(v)	baseId = v;
        $("#nav_search_top .search-inp").val('搜索知识...');
        //站外搜索样式
        if(!$("#base_id").val()) {
            var searchContainer = $('.searchku');
            searchContainer.find('.resultp').css('display', 'block');
            searchContainer.find('.hotsearchall').css('display', 'block');
            searchContainer.find('.alltext').css('display', 'block');
            searchContainer.find('.hotsearch').css('display', 'none');
        }

        if(pathname.lastIndexOf('search') >= 0){
            var keyWord = $("#keyword").val();
            $("#nav_search_top .search-inp").val(keyWord||'搜索知识...');
        }
        _ajaxHotWords(baseId);

    })
    function _ajaxHotWords(baseId){
        var _url = "/public/api/hotSearch";
        $.ajax({
            cache: true,
            type: "get",
            url: _url,
            data:{
                baseId:baseId
            },
            error: function(request) {

            },
            success: function(result) {
                var msg = result.msg;
                if(msg == 'ok'){
                    var data = result.data;
                    var hotWordsList = $(".hot-word");
                    var html = '';
                    var url = $("#search-form").attr("action");
                    for(var i in data){
                        var s = url + '/' + encodeURIComponent(data[i].word);
                        html += '<li class="search-li"><a href='+ s +' target="_blank"><span class="hot-de">' + data[i].word +'</span></a></li>';
                    }
                    hotWordsList.html(html);
                }else{
                    alert(msg);
                }
            }
        });
    }

    if(typeof localStorage !== 'undefined' && typeof JSON !== 'undefined') {
        var searchHistory = new ViewHistory();
        searchHistory.init({
            limit: 1,
            storageKey: 'searchHistory',
            primaryKey: 'id'
        });
    }

    var his = searchHistory.getHistories();
    if(his[0])
        $(".resultp").first().html("<span class='last' style='cursor:pointer;'><i class='fa fa-clock-o'></i>"+his[0].id+"<i class='fa fa-close'></i></span>")
    //
    var checkUnreadArticles = function() {
        // get username from cookie
        var myUsername = getCookieValue('UserName');
        // if the username exists, (if you are logged in)
        if(myUsername) {
            var _url = "/public/api/checkUnreadArticles";
            $.ajax({
                cache: true,
                type: "get",
                url: _url,
                data: {
                    username: myUsername
                },
                error: function(request) {
                    console.log("checkunread failed");
                },
                success: function(result) {
                    if(result.hasUnreadArticles) {
                        // if you have unread articles, add unreadArticles class
                        // so css can show a notification
                        $('#myknowledgebase').addClass('unreadArticles');
                        $('#myknowledgebase').append("<i></i>");
                        $('#mysubscription').append("<i></i>");
                    }
                }
            });
        }
    }
    function getCookieValue(a, b) {
        b = document.cookie.match('(^|;)\\s*' + a + '\\s*=\\s*([^;]+)');
        return b ? b.pop() : '';
    }
    checkUnreadArticles();
</script>
<style>
    .searchdefault a.resultp.search-li.selected,
    .searchdefault li.search-li.selected,
    .searchku li.tuwens.search-li.selected{
        background-color: #eff3f5 !important;
    }
    .searchku.selected a, .searchku a.selected{
        background-color: #eff3f5 !important;
        color: #ea9d38 !important;
    }
</style>

<script type="text/javascript">
    var t = null,time=300,_this;
    $(".my_knowledge").hover(function(){
        $(this).addClass('curoot').next(".submenu").show();
    },function(){
        _this = $(this);
        t = setTimeout(function(){
            _this.removeClass('curoot').next(".submenu").hide();
        },time);
        showsubmenu(_this.next(".submenu"));
    });
    function showsubmenu(obj)
    {
        obj.hover(function(){
            clearTimeout(t);
            t=null;
            obj.show();
        },function(){
            obj.prev('.my_knowledge').removeClass('curoot').end().hide();
        });
    }
</script>
<div class="header_top addcolor"><div class="banner"><div class="centermiddle"><a href="http://lib.csdn.net/assemble" target="_blank" class="linkbtn"></a></div></div></div>
<div class="mainCol clearfix padding15px">
    <div class="blank_25px"></div>
    <div class="containerwrap setborder whitebk">
        <div class="kn_others">

            <div class="kn_top clearfix" style="height: 130px;">
                <div class="pull-left"><span class="sphoto"><img src="http://avatar.csdn.net/3/0/7/3_fareast_mzh.jpg" width="60" height="60" class="imphoto"></span></div>
                <div class="pull-left srightext">
                    <div class="stext pull-left">
                        <p class="ptext">
                            <em>fareast_mzh</em>的图谱：
                            <span>PHP
                                
                            </span>
                        </p>

                        <p class="pinfort">2017年02月06日 23:08:23 更新
                            <!--todo: add update time of use struct-->



                    </div>

                </div>
            </div>
            <div id="kl_screen" class="kn_content">
                <div class="kl_spread1"><a id="allscreen" href="javascript:void(0);" class="screenbtn"><i class="fa fa-expand"></i><em>全屏</em></a></div>

                <div id="mapRow" class="kl_str"></div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" src="http://lib.csdn.net/js/web/libs/d3.min.js" charset="utf-8"></script>
<script type="text/javascript" src="http://lib.csdn.net/min/strucMap.min.js"></script>
<script type="text/javascript" src="http://lib.csdn.net/min/clipboard.min.js"></script>
<script>
    $(function () {
        // ---- 复制到剪贴板 ----
        var clipboard = new Clipboard('#clip_button');
        var t;
        clipboard.on('success', function(e) {
//            console.info('Action:', e.action);
//            console.info('Text:', e.text);
//            console.info('Trigger:', e.trigger);
            clearTimeout(t);
            $(".clip-msg").fadeIn(400);
            var delay = 1500;
            t = setTimeout(function() {
                $(".clip-msg").fadeOut(1000);
            },delay);
            t;
            e.clearSelection();
        });
        clipboard.on('error', function(e) {
            console.error('Action:', e.action);
            console.error('Trigger:', e.trigger);
        });
        // ---- END ----
    });
</script>
<script>
    $(function () {
        var w, h,dw=1140,dh=940,isAll=false,options;
        w = $(window).width();
        h = $(window).height();
        options = {
            width: dw,
            height: dh
        };
        var nodestr = "[{&#34;course&#34;:&#34;0&#34;,&#34;fixed&#34;:true,&#34;href&#34;:&#34;http://lib.csdn.net/my/structure/PHP&#34;,&#34;id&#34;:354185,&#34;index&#34;:0,&#34;prop&#34;:{&#34;course&#34;:&#34;0&#34;,&#34;name&#34;:&#34;PHP&#34;,&#34;nTxt&#34;:&#34;0&#34;,&#34;subject&#34;:&#34;PHP&#34;},&#34;x&#34;:560,&#34;y&#34;:480},{&#34;course&#34;:13571923,&#34;href&#34;:&#34;http://lib.csdn.net/my/structure/PHP/node/13571923&#34;,&#34;id&#34;:13571923,&#34;index&#34;:1,&#34;prop&#34;:{&#34;course&#34;:13571923,&#34;name&#34;:&#34;开发环境&#34;,&#34;nTxt&#34;:&#34;0&#34;,&#34;subject&#34;:&#34;&#34;}},{&#34;course&#34;:13571924,&#34;href&#34;:&#34;http://lib.csdn.net/my/structure/PHP/node/13571924&#34;,&#34;id&#34;:13571924,&#34;index&#34;:1,&#34;prop&#34;:{&#34;course&#34;:13571924,&#34;name&#34;:&#34;基础知识&#34;,&#34;nTxt&#34;:&#34;0&#34;,&#34;subject&#34;:&#34;&#34;}},{&#34;course&#34;:13571925,&#34;href&#34;:&#34;http://lib.csdn.net/my/structure/PHP/node/13571925&#34;,&#34;id&#34;:13571925,&#34;index&#34;:1,&#34;prop&#34;:{&#34;course&#34;:13571925,&#34;name&#34;:&#34;常用扩展&#34;,&#34;nTxt&#34;:&#34;0&#34;,&#34;subject&#34;:&#34;&#34;}},{&#34;course&#34;:13571926,&#34;href&#34;:&#34;http://lib.csdn.net/my/structure/PHP/node/13571926&#34;,&#34;id&#34;:13571926,&#34;index&#34;:1,&#34;prop&#34;:{&#34;course&#34;:13571926,&#34;name&#34;:&#34;格式解析&#34;,&#34;nTxt&#34;:&#34;0&#34;,&#34;subject&#34;:&#34;&#34;}},{&#34;course&#34;:13571927,&#34;href&#34;:&#34;http://lib.csdn.net/my/structure/PHP/node/13571927&#34;,&#34;id&#34;:13571927,&#34;index&#34;:1,&#34;prop&#34;:{&#34;course&#34;:13571927,&#34;name&#34;:&#34;面向对象编程&#34;,&#34;nTxt&#34;:&#34;0&#34;,&#34;subject&#34;:&#34;&#34;}},{&#34;course&#34;:13571928,&#34;href&#34;:&#34;http://lib.csdn.net/my/structure/PHP/node/13571928&#34;,&#34;id&#34;:13571928,&#34;index&#34;:1,&#34;prop&#34;:{&#34;course&#34;:13571928,&#34;name&#34;:&#34;Web开发\t\t\t\t\t&#34;,&#34;nTxt&#34;:&#34;0&#34;,&#34;subject&#34;:&#34;&#34;}},{&#34;course&#34;:13571929,&#34;href&#34;:&#34;http://lib.csdn.net/my/structure/PHP/node/13571929&#34;,&#34;id&#34;:13571929,&#34;index&#34;:1,&#34;prop&#34;:{&#34;course&#34;:13571929,&#34;name&#34;:&#34;开发框架\t\t\t\t\t&#34;,&#34;nTxt&#34;:&#34;0&#34;,&#34;subject&#34;:&#34;&#34;}},{&#34;course&#34;:13571930,&#34;href&#34;:&#34;http://lib.csdn.net/my/structure/PHP/node/13571930&#34;,&#34;id&#34;:13571930,&#34;index&#34;:1,&#34;prop&#34;:{&#34;course&#34;:13571930,&#34;name&#34;:&#34;系统架构\t&#34;,&#34;nTxt&#34;:&#34;0&#34;,&#34;subject&#34;:&#34;&#34;}},{&#34;course&#34;:13571968,&#34;href&#34;:&#34;http://lib.csdn.net/my/structure/PHP/node/13571968&#34;,&#34;id&#34;:13571968,&#34;index&#34;:1,&#34;prop&#34;:{&#34;course&#34;:13571968,&#34;name&#34;:&#34;代码片&#34;,&#34;nTxt&#34;:&#34;0&#34;,&#34;subject&#34;:&#34;&#34;}}]".replace(/&#34;/g, '"').replace(/\t/g,'').replace(/&amp;/g,'&');
        var linkstr = "[{&#34;desc&#34;:&#34;&#34;,&#34;source&#34;:0,&#34;target&#34;:1,&#34;type&#34;:&#34;REL&#34;},{&#34;desc&#34;:&#34;&#34;,&#34;source&#34;:0,&#34;target&#34;:2,&#34;type&#34;:&#34;REL&#34;},{&#34;desc&#34;:&#34;&#34;,&#34;source&#34;:0,&#34;target&#34;:3,&#34;type&#34;:&#34;REL&#34;},{&#34;desc&#34;:&#34;&#34;,&#34;source&#34;:0,&#34;target&#34;:4,&#34;type&#34;:&#34;REL&#34;},{&#34;desc&#34;:&#34;&#34;,&#34;source&#34;:0,&#34;target&#34;:5,&#34;type&#34;:&#34;REL&#34;},{&#34;desc&#34;:&#34;&#34;,&#34;source&#34;:0,&#34;target&#34;:6,&#34;type&#34;:&#34;REL&#34;},{&#34;desc&#34;:&#34;&#34;,&#34;source&#34;:0,&#34;target&#34;:7,&#34;type&#34;:&#34;REL&#34;},{&#34;desc&#34;:&#34;&#34;,&#34;source&#34;:0,&#34;target&#34;:8,&#34;type&#34;:&#34;REL&#34;},{&#34;desc&#34;:&#34;&#34;,&#34;source&#34;:0,&#34;target&#34;:9,&#34;type&#34;:&#34;REL&#34;}]".replace(/&#34;/g, '"').replace(/\t/g,'').replace(/&amp;/g,'&');

        loadMap(options, nodestr, linkstr);
        $("#allscreen").on('click',function(){
            $('#mapRow').html('');
            !isAll ? ($(this).find('.fa').removeClass('fa-expand').addClass('fa-compress'),$(this).find('em').text('退出全屏'),$("#kl_screen").css({"width":w,"height":h}).addClass('kl_str_screen'),isAll=true,options = {'width':w,'height':h},loadMap(options, nodestr, linkstr)) : ($(this).find('.fa').removeClass('fa-compress').addClass('fa-expand'),$(this).find('em').text('全屏'),$("#kl_screen").css({"width":'auto',"height":'auto'}).removeClass('kl_str_screen'),isAll=false,options = {'width':dw,'height':dh},loadMap(options, nodestr, linkstr));
            return false;
        });
    });
</script>
<script type="text/javascript">
    function support_dynamic() {
        $("a .fa-thumbs-o-up").on("click", function (e) {
            var login = csdn.knowledge_web._verificaUser();
            if (login) {
                var obj = $(e.target), num = parseInt(obj.parents("span").text().replace(/[^0-9]/ig, "")), _html;
                var _dataid = $(e.target).parent("a").attr("data-id");
                $.get("/dynamic/support", {data: _dataid}, function (res) {
                    if (res.status) {
                        num++;
                        obj.removeClass("fa-thumbs-o-up").addClass("fa-thumbs-up");
                        _html = $(obj).parent()[0].outerHTML+num;
                        obj.parents("span").html(_html);
                    }
                    else if (res.error == 1) {
                        var _url = "https://passport.csdn.net/account/login?from=" + encodeURI(location.href);
                        window.location = _url;
                    }
                });
            }
            e.preventDefault();
            return false;
        });
        if ($(".showarrow").length > 0) {
            $(document).on("mouseenter", ".showarrow", function () {
                $(this).find('.showdown').show();
            });
            $(document).on("mouseleave", ".showarrow", function () {
                $(this).find('.showdown').hide();
            });
        }
    }
</script>
<script>support_dynamic();</script>
<script>
    $(".kl_share").on('mouseenter',function(){
        clearTimeout(time);
        time = null;
        $(this).find('.kl_spreads').show();
    });
    $(".kl_share").on('mouseleave',function(){
        var _this = this;
        time=setTimeout(function(){
            $(_this).find('.kl_spreads').hide();
        },t);
    });
</script>
<div class="marklayer whitebk"></div>
<script type="text/javascript" src="http://csdnimg.cn/pubfooter/js/publib_footer-1.0.2.js"></script>
<script type="text/javascript" src="http://c.csdnimg.cn/public/common/toolbar/js/toolbar.js"></script>
<script type="text/javascript" src="/min/knowledge_base_new.min.js"></script>
<!--Created by yaolx on 2016/09/13. 完成图鉴任务底部浮层-->
<div class="hotlightIllustrations hotlight" style="display: none">
    <a href="" class="closed">×</a>
    <div class="knillcontent">
        <p>
            <i class="fa fa-lights"></i><a href="http://lib.csdn.net/my/handbook/done" target="_blank"><em>你点亮了一个知识图鉴！</em></a></p>
    </div>
</div>

<!--Created by yaolx on 2016/09/13.　点亮图鉴底部浮层-->
<div class="hotlightIllustrations illustrations" style="display: none">
    <a href="" class="closed">×</a>
    <div class="knillcontent">
        <p><i class="fa fa-check-circle"></i><a href="http://lib.csdn.net/my/handbook/doing" target="_blank"><em>你完成了一个图鉴任务！</em></a></p>
    </div>
</div>

<div class="hotlightIllustrations bottom-layer-model hide" >
    <a href="" class="closed" id="">×</a>
    <div class="knillcontent">
        <p><i class="fa fa-check-circle"></i><a href="" target="_blank"><em></em></a></p>
    </div>
</div>
<script type="text/javascript">

    $(".rewordtips .closed").on('click',function(){
        var key = $(this).attr('id');
        $(this).parents('.hotlightIllustrations').hide().css({"bottom":-72});
        $.ajax({
            url:'/user/delMaskStatus',
            type:'get',
            async:true,
            data:{
                itype:key
            },
            success:function(reponse){
                var type;
                type = reponse.type;
                if(type)
                {
                    console.log('success');
                }
                $(".rewordtips").removeAttr($(this).parents('.hotlightIllustrations'));
                reloadtips();
            },
            error:function(){
                alert('请求失败!');
            }
        });
    });
    function  reloadtips(){
        $(".rewordtips").each(function(index,element){
            $(element).show();
            $(element).stop().animate({"bottom": 50*index}, 'fast');

        })
    }
    $(function(){
        var illustrflg,hotflg;
        var showNum = 0;
        reloadtips();
        var showMaskPop = function(type) {
            if (type === "finished") {
                $(".illustrations").show();
                illustrflg = true;
            }
            if (type === "lighted") {
                $(".hotlight").show();
                hotflg = true;
            }
            if (illustrflg) {
                $(".illustrations").stop().animate({"bottom": 72*showNum}, 'fast');
                showNum = showNum + 1;

            }
            if (hotflg) {

                $(".hotlight").stop().animate({"bottom": 72*showNum}, 'fast');
                showNum = showNum + 1;

            }
            if (hotflg && illustrflg) {
                $(".illustrations").stop().animate({"bottom": 0}, 'fast', function () {
                    $(".hotlight").stop().animate({"bottom": 72}, 'fast');
                });
            }
            if (hotflg == false && illustrflg == false) {
                $(".illustrations").css({"bottom": -72}).hide();
                $(".hotlight").css({"bottom": -72}).hide();
            }
        };
    })
</script>
</body>
